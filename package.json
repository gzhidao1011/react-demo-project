{
  "name": "repo",
  "description": "React development environment",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "build": "turbo run build",
    "build:storybook": "turbo run build-storybook --filter=@repo/storybook",
    "build:storybook-image": "docker build -f apps/storybook/Dockerfile -t storybook:local .",
    "dev": "turbo run dev --concurrency=18",
    "dev:infra": "docker-compose up -d mysql redis nacos sentinel",
    "dev:infra:logs": "docker-compose logs -f mysql redis nacos sentinel",
    "chat:dev": "pnpm dev:infra && echo 'Chat 联调：请依次在 services 目录启动 user-service、chat-service、api-gateway，然后 pnpm -C apps/web dev。详见 .cursor/plans/chat功能实现计划/03-前后端联调指南.md'",
    "start": "turbo run start",
    "clean": "turbo run clean && rm -rf .turbo && rm -rf .next && rm -rf node_modules && rm -rf dist",
    "test": "turbo run test",
    "test:coverage": "turbo run test:coverage",
    "test:watch": "turbo run test:watch",
    "fix": "turbo run fix",
    "fix:format": "biome format --write",
    "fix:lint": "biome lint --write",
    "check": "biome check",
    "check:fix": "node -e \"const os=require('os');const {execSync}=require('child_process');const isWin=os.platform()==='win32';const script=isWin?'scripts/check-and-fix.ps1':'scripts/check-and-fix.sh';const cmd=isWin?`powershell -ExecutionPolicy Bypass -File ${script}`:`bash ${script}`;execSync(cmd,{stdio:'inherit'})\"",
    "check:lint": "biome lint",
    "check:format": "biome format",
    "check:types": "turbo run check:types",
    "prebuild": "pnpm test"
  },
  "devDependencies": {
    "turbo": "2.7.4",
    "@biomejs/biome": "2.3.11",
    "@repo/biome-config": "workspace:*"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx,cjs,mjs,cts,mts,json,css,md}": [
      "pnpm exec prettier --write --ignore-unknown"
    ],
    "*.{js,jsx,ts,tsx,cjs,mjs,cts,mts}": [
      "pnpm exec eslint --fix --max-warnings=0 --no-warn-ignored"
    ]
  },
  "pnpm": {
    "overrides": {},
    "onlyBuiltDependencies": [
      "turbo"
    ],
    "ignoredBuiltDependencies": []
  },
  "packageManager": "pnpm@10.28.0",
  "engines": {
    "node": ">=22",
    "pnpm": ">=10.28.0"
  }
}
