---
description:
globs:
alwaysApply: true
---

# 项目结构

采用 monorepo 结构（使用 pnpm workspace + Turborepo）。以下是主要目录的概述：

## Apps 目录

- [apps/web](mdc:apps/web) - React + TypeScript 构建的前端 Web 应用程序（主要应用）
  - 使用 React Router v7（基于 Remix）
  - 使用 Tailwind CSS v4 进行样式开发
  - 使用 React Hook Form + Zod 进行表单处理
  - 使用 Vitest + React Testing Library 进行测试
- [apps/storybook](mdc:apps/storybook) - Storybook 应用
  - 统一展示所有包的组件 stories
  - 使用 Vite 构建

## Packages 目录

共享包使用 `@repo/*` 命名空间：

- [packages/services](mdc:packages/services) (`@repo/services`) - HTTP 请求封装库
  - 基于 `APIServiceBase` 类封装 axios
  - 统一处理 API 请求、错误处理、token 刷新
  - 提供认证、聊天、用户管理等 API 服务
- [packages/ui](mdc:packages/ui) (`@repo/ui`) - 共享 UI 组件库
  - 基于 Headless UI 和 Tailwind CSS 的基础组件
  - 提供 Button、Card、Input 等通用组件
- [packages/utils](mdc:packages/utils) (`@repo/utils`) - 共享工具函数库
  - 提供通用工具函数、hooks、表单错误处理等
- [packages/propel](mdc:packages/propel) (`@repo/propel`) - 增强/包装层组件
  - 依赖 `@repo/ui`
  - 提供业务层组件和增强组件
- [packages/types](mdc:packages/types) (`@repo/types`) - 共享类型定义
  - 提供通用的 TypeScript 类型定义
- [packages/schemas](mdc:packages/schemas) (`@repo/schemas`) - Zod Schema 定义
  - 提供共享的 Zod schema 定义
- [packages/i18n](mdc:packages/i18n) (`@repo/i18n`) - 国际化支持
  - 提供多语言支持
- [packages/tailwind-config](mdc:packages/tailwind-config) (`@repo/tailwind-config`) - Tailwind CSS 配置
  - 提供共享的 Tailwind CSS 主题配置
- [packages/typescript-config](mdc:packages/typescript-config) (`@repo/typescript-config`) - TypeScript 配置
  - 提供共享的 TypeScript 配置
- [packages/biome-config](mdc:packages/biome-config) (`@repo/biome-config`) - Biome 配置
  - 提供共享的代码格式化和 lint 配置

## Internal 目录

- [internal](mdc:internal) - 内部工具和脚本
  - Turborepo 构建配置
  - Git 工具脚本
  - 飞书相关工具

## Docs 目录

- [docs](mdc:docs) - 项目文档
  - 架构文档、使用指南、最佳实践等

## 配置文件

- [package.json](mdc:package.json) - 根包配置
- [pnpm-workspace.yaml](mdc:pnpm-workspace.yaml) - pnpm workspace 配置
- [turbo.json](mdc:turbo.json) - Turborepo 配置
- [tsconfig.base.json](mdc:tsconfig.base.json) - TypeScript 基础配置
- [tailwind.base.ts](mdc:tailwind.base.ts) - Tailwind CSS 基础配置
- [postcss.base.ts](mdc:postcss.base.ts) - PostCSS 基础配置

## 包依赖关系

```
apps/web
  ├── @repo/services
  ├── @repo/ui
  ├── @repo/utils
  ├── @repo/propel
  ├── @repo/types
  ├── @repo/schemas
  ├── @repo/i18n
  └── @repo/tailwind-config

apps/storybook
  ├── @repo/ui
  ├── @repo/propel
  └── @repo/tailwind-config

@repo/services
  ├── @repo/utils
  └── @repo/types

@repo/ui
  └── @repo/utils

@repo/propel
  ├── @repo/ui
  └── @repo/utils

@repo/utils
  └── @repo/types
```
